# MCP Coop Chain (Whitepaper):

### 1. Введение

#### 1.1 Философия и цели проекта. 
  - Децентрализация и верификация справедливого участия в нашей сети основана на идее кооперативной собственности на средства производства. 
  - Это означает, что каждая организация, участвующая в сети, не только пользуется её инфраструктурой, но и является её совладельцем и ответственным участником. 
  - Мы отказываемся от централизованного контроля и стремимся к распределённому управлению. 
  - Технически эти принципы реализованы через архитектуру смарт-контрактов и экономику участия. 
  - Право быть валидатором(Full Node) закреплено за действующими кооперативами, а любые действия в сети сопровождаются проверкой подлинности состояния цепи.
  - Каждый узел (Full Node), представляющий кооператив, участвует в механизме консенсуса и обеспечивает честность всей сети.
  - Вся экономика сети построена через внутренний токен(MCP Coin). Его ликвидность определяется через пул соотношения к существующим стейбл коинам(USDC,...).
  - В сети не предусмотрена произвольная эмиссия(кроме пункта *вознаграждение разработчиков*),
  эмиссия будет происходить с помощью Оракул моста из других сетей(Poligon, Base, etc.), через ввод/вывод стейбл коинов с фиксированной в протоколе привязкой *1 MCP Coin: 1 USDC*.
  - Это обеспечивает защиту сети от инфляционных скачков и спекулятивного манипулирования курсом.
  - Таким образом, мы создаём не просто блокчейн, а справедливую цифровую инфраструктуру для кооперативных форм организации и производства.

##### **Примечание**
    1. Подразумевается, что доверие к сети будет увеличиваться с добавлением новых компаний-кооперативов(FullNode)
    2. Вся социальная философия реализуется через протокольные смарт-контракты, 
    и требует выполнения только онлайн как электронная коммерческая организация.
    3. Все действия компаний-кооперативов вне блокчейна не являются зоной ответственности сети или ее участников

#### 1.2 Общая архитектура сети 
    Краткий обзор компонентов сети и их взаимодействия:
    - **Узлы сети:** Кооперативы, запускающие полные узлы (FullNode), и обычные пользователи, работающие через облегчённые узлы (LightNode).
    - **Консенсус:** Механизм Proof-of-Cooperation, при котором валидаторами являются кооперативные FullNode, голосующие за блоки коллективно.
    - **Управление:** Двухуровневая система DAO, обеспечивающая демократичное принятие решений внутри организаций и между ними.
    - **Токеномика:** Внутренний токен MCP Coin, привязанный к USDC через мосты с внешними сетями; экономические правила против инфляции.
    - *(и т.д. — кратко перечислить основные элементы, чтобы дать общее понимание)*

#### 1.3 Основные принципы участия и децентрализации:
  - Каждый пользователь сети может выступать в роли LightNode — облегчённого клиента, проверяющего состояние сети через API-интерфейс.
  - LightNode не требует владения токенами или стейка. Однако при каждом запросе к сети LightNode выполняет верификацию по снапшоту из 10 случайных хэшей блоков. Это гарантирует, что пользователь взаимодействует с подлинной цепью блокчейна перед выполнением каких-либо действий (например, отправкой транзакций).
  - LightNode не участвует в консенсусе, но усиливает доверие к сети посредством независимой проверки целостности цепи.
  - FullNode могут запускать только компании-кооперативы, зарегистрированные при помощи протокольного смарт-контракта. Запуск FullNode не является обязательным условием для компании-кооператива, но является точкой входа в сеть и дополнительной гарантией для пользователей их WEB3 приложения.
  - Компания-кооператив и её FullNode связаны через стейк: депозит вносится при инициализации компании через протокольный смарт-контракт и остаётся заблокированным на весь период   существования компании. Сумма стейкинга является постоянной для всех организаций, что уравнивает порог входа в сеть (1000 Coins).
  - При выходе организации из сети происходит анстейкинг и отключение FullNode от сети. Происходит полный возврат суммы стейкинга и прекращению участия данного узла в консенсусе.
  - Компания-кооператив(FullNode) участвуют в консенсусе по валидации блоков/смарт-контрактов. Максимальное количество активных валидаторов ограничено 10 узлами, 
    и выбор валидаторов основан на рейтинге доверия, активности и истории корректной работы. Массив активных валидаторов обновляется перед созданием каждого блока,
    что позволит максимально децентрализовать сеть.
  - Компании-кооперативы могут деплоить собственные смарт-контракты, для работы с API приложений организации. 
  - Задеплоеные смарт-контракты будут привязаны к организации через приватный ключ и OrgID. 
  - Компания-кооператив(если она FullNode) всегда будет являться инициализатором транзакции, а также провайдером пользователей к нашей сети через API своего приложения. 
    Таким образом она будет нести ответственность за создание операций и блоков в соответствии с требованиями сети.
  - Все созданные компаниями смарт-контракты будут описывать только бизнес логику взаимодействия протокольных смарт-контрктов, что так же повысить доверие к сети.
    При создании такой контракт будет проходить протокольную проверку на соответствие требованиям сети(sandbox, linter, pre-deploy).
  - Устойчивость сети усиливается кооперативной моделью: чем больше независимых организаций, тем больше FullNode и тем надёжнее децентрализованное управление.
  - IP-адреса FullNodes будут анонимизированы через прокси-слои или P2P-маршрутизацию, 
  но могут быть опубликованы самим владельцем узла при желании, для публичных входящих соединений.

##### **Примечание**
    1. Наш блокчейн создается исключительно для кооперативного вида собственности,
    что не подразумевает других способов создания fullNode


#### 1.4 Основные понятия и термины
    1. Fraud - злонамеренные действия в сети:
        - Подписание двух и более блоков на одной высоте (Double-sign).
        - Подмена данных в блоках или снапшотах.
        - Отказ в предоставлении корректного ответа на запрос сети.
        - Умышленное распространение некорректных или поддельных транзакций.
        - Намеренная попытка создания альтернативной истории цепочки (форк).
    2. Soulbound token(SBT) - это непередаваемый токен, привязанный к конкретному кошельку или «душе» (soul), 
    который нельзя продать, передать или потерять, в отличие от обычных NFT. 
    Он служит для удостоверения идентичности, достижений, ролей, репутации или членства, и предназначен для использования в децентрализованных обществах и Web3.   

### 2. Архитектура блокчейн-сети

#### 2.1 ## Консенсус Proof-of-Cooperation (PoC)

    **Алгоритм консенсуса:** 
    - Все компании-кооперативы могут учавствововать в подтверждении блоков через fullNode, 
    а так же в обновлении протокола сети по принципам кооперации и коллективной ответственности.
    - В каждом раунде участвуют до **10 случайно выбранных валидаторов**. Выбор происходит с учётом рейтинга доверия.
    - **Правила достижения консенсуса:**
        - Если валидаторов < 5: для достижения консенсуса необходимо **50% + 1 голос**.
        - Если валидаторов > 5 (max 10): для достижения консенсуса необходимо **≥ 80% голосов**.
        - Решения по блоку принимаются в рамках нескольких секунд; при недостатке голосов блок отклоняется.
    - **Ответственность валидаторов:** 
        - Если валидатор выбран в раунд, но не подписал блок (отказ, саботаж, сбой и т.п.), 
        он не участвует в создании следующих 10 блоков и получает штраф по системе описанной в *Рейтинг доверия валидаторов*
        - После блокирования валидатор должен **заново заработать доверие** успешной работой, иначе его шансы участвовать в консенсусе минимальны.
    - **Вознаграждение валидаторов:** 
        - Каждая транзакция в сети сопровождается взиманием фиксированной комиссии описанной в **Комиссии за операции**.
        - После создания блока сумма всех комиссий в блоке делиться поровну между валидаторами участвовавшими в консенсусе,
        или *сжигается* если пул ликвидности не уравновешен MCP Coin < USDC, таким образом сеть компенсирует инфляционное давление, поддерживая ценность токена.
        - Отдельных наград за найденный блок не предусмотрено — валидаторы получают только комиссионные сборы, 
        и только при условии успешного формирования блока.
        - Такой механизм обеспечивает экономическую устойчивость сети, борьбу с инфляцией и мотивирует честное участие валидаторов.

    **Рейтинг доверия валидаторов:** 
        Каждый валидатор имеет **рейтинг (0–100)**, отражающий надежность:
        - При инициализации каждая FullNode начинает с нулевым рейтингом.
        - **Диапазоны рейтинга:** 
            - 0–10 – низкий рейтинг (рискованный участник).
            - 10–90 – стандартный (обычные рабочие валидаторы).
            - 90–100 – элитный (наиболее надежные и быстрые узлы).
        - **Выбор валидаторов по рейтингу:** В каждом раунде из 10 мест распределяются:
            - 50% – узлы с элитным рейтингом, максимум 5.
            - 40% – узлы со стандартным рейтингом, максимум 4.
            - 10% – узлы с низким рейтингом, максимум 1 (даёт шанс новичкам).
            - *(Если в какой-то категории недостаточно кандидатов, свободные места заполняются случайными узлами из категории с наивысшим рейтингом)*
        - **Повышение рейтинга(балы валидны в течение 24 часов):**
            - Успешное участие в создании блока (подпись блока) + 1 к рейтингу.
            - Высокий аптайм узла и быстрый отклик(≥99.5% и ≤200 мс) + 20 к рейтингу.
            - Активное обслуживание LightNode-запросов(более 100) + 20 к рейтингу.
            - Длительная безошибочная работа (более 10) + 20 к рейтингу.
        - **Понижение рейтинга (штрафы):**  
            - Незначительный сбой (например, короткий офлайн во время раунда) - 1 к рейтингу.
            - Нарушение правил или саботаж:  
                - 1-е нарушение: −11 к рейтингу, **заморозка на 5 блока**.  
                - 2-е нарушение: -81 к рейтингу, **заморозка на 10 блоков**.  
                - 3-е нарушение: 1% стейка распределяется в равной доле между всеми существующими валидаторами,
                компания-кооператив(FullNode) отключается от сети до восстановления стейкинга.  
                - Злонамеренные действия (Fraud): **заморозка на 24 часа**, 
                компания-кооператив(FullNode) может подать апелляцию которая должна быть рассмотрена участниками сети за 24 часа,  
                если будут доказаны преднамеренные злонамеренные действия, то компания удаляется из сети, 
                а ее стейк распределяется в равной доле между всеми существующими валидаторами.  
            - *Есть механизм апелляции через DAO*, позволяющий оспорить штраф решением сообщества.

##### **Примечание**        
        Высокий рейтинг повышает вероятность часто быть выбранным валидатором, а низкий – напротив, оставляет узел на периферии консенсуса.


#### 2.2 Типы узлов(FullNode и LightNode):

    **FullNode** – основной узел-валидатор блокчейн сети:
        Каждый **FullNode** обязательно является компанией-кооперативом, но компания-кооператив не обязана иметь **FullNode**.
        Компания-кооператив несет полную ответственность и сама управляет своим FullNode:
            - **Участие в консенсусе:** FullNode – это валидатор, который может быть выбран для создания блока. 
            Он привязан к смарт-контракту зарегистрированной организации (OrgId) и держит стейк 1000 MCP.
            - **Доступность для LightNode:** Каждый FullNode обязан обрабатывать входящие API-запросы от LightNode, сверяя присланные снапшоты с цепью. 
            Это повышает децентрализацию доверия потому что пользователи могут проверять цепочку через разные узлы.
            - **Анонимность сети:** Чтобы защитить валидаторов от целенаправленных атак, реальные IP-адреса FullNode не раскрываются публично, только при желании самого узла.
            - IP-адреса всех FullNode хранятся в блокчейне(распределенном реестре) в зашифрованном виде. 
            Они известны только самому валидатору (через его приватный ключ).
            - LightNode подключается к уздам через прокси на стороне каждой из FullNode(WEB3 -> OrgID(proxy) -> FullNode), действуя как шлюз. 
            Таким образом, внешние клиенты знают только адрес приложения или компании.
            - FullNode-узлы также выстраивают между собой P2P-связи через прокси: они публикуют свои прокси-адреса транзакцией `ProxyUpdateTx`, 
            доступной другим FullNodes так же только через протокольный смарт-контракт.
            - **Шифрование и защита:** Только публичные ключи валидаторов доступны в цепи для верификации. 
            
##### **Примечание**              
        Узлы внутри сети по умолчанию *не знают IP друг друга*, обмен данными идёт через прокси-слой. Это препятствует IP-ориентированным атакам (DDoS, отслеживание узлов). 

    **LightNode** – дополнительный валидатор блокчейн сети: 
        – Данная функциональность предназначена для подтверждения, что пользователь используя REST API точно отправляет запрос в валидный блокчейн. 
        - **Отсутствие стейка:** LightNode не требует собственных токенов MCP и не участвует в процессе консенсуса.
        - **Верификация цепи:** При каждом обращении к сети LightNode выполняет проверку подлинности цепочки:
            1. Через REST API(параметр) мы так же можем запросить у сети *снапшот доверия* – из 5 пар хешей блоков(текущий и предыдущий),
            они выбираются случайным образом из последних 100 блоков сети.
            2. LightNode может сохранять этот набор хэшей и при каждом последующем запросе (транзакции, вызове данных) он может отправлять текущий снапшот на проверку FullNode.
            3. FullNode сверяет поступившие 10 хэшей со своей цепочкой:
                - Если **все хэши совпадают** с соответствующими блоками текущей цепи – FullNode возвращает подтверждение (Success) 
                и отправляет LightNode новый набор из 5 пар хешей блоков(текущий и предыдущий).
                - Если **хоть один хэш не совпадает** – FullNode возвращает ошибку (Reject), отклоняя запрос (никакие изменения состояния не выполняются).
            4. При ошибке LightNode знает, что подключён не к основному блокчейну (например, к форку или фальшивому узлу), и не будет продолжать взаимодействие.
        - **Безопасность для пользователя:** Механизм случайных хэшей гарантирует, что пользователь не совершит транзакцию в поддельной сети, 
        и любой *“неправильный”* FullNode не сможет подобрать верные хэши на длинной дистанции, и запросы будут отклонены. 
        Таким образом достигается распределенная проверка честности без необходимости полной синхронизации.

##### **Примечание**        
        Хотя проверка по **LightNode** является опциональной, ее реализация в WEB3 приложениях будет увеличивать доверие пользователей к приложению и сети в целом.

### 3. Смарт-контракты и протокол исполнения
    Смарт-контрактная платформа MCP Coop Chain спроектирована с акцентом на безопасность и управляемость.
    Основные принципы кооперации реализованы через библиотеку протокольных смарт-контрактов
    **Пользовательский произвольный код для изменения этих принципов не допускается**

    #####*Существует три уровня контрактов*:

#### 3.1 Протокольные контракты, встроенные в код сети(*Proto-IP*):
    - Обеспечивают фундаментальную логику: создание и закрытие организаций, выпуск DAO-токенов, правила голосования, распределение ролей и прав.
    - Обновляются **только при обновлении самого протокола** – через механизм сетевого DAO. 
    Изменение протокольного кода возможно, например, выпуском новой версии клиента и последующим единогласным одобрением валидаторов.
    - Выступают основой для контрактов более высокого уровня: организационных и оракульных, 
    последние фактически описывают бизнес логику компаний через алгоритмы вызова функции Proto-IP (через стабильные интерфейсы).

##### **Примечание**
        Пример: Proto-IP контракт “OrgManager” отвечает за регистрацию/удаление организаций; 
        контракт “Voting” – за проведение голосований DAO и т.д.

#### 3.2 Оракульные врап смарт-контракты (*Oracle Contracts*):  
    Специализированные контракты для интеграции внешних данных:
    - Представляют собой **настройки для Proto-IP шаблонов оракулов**. 
    Логику самих оракулов изменить нельзя, можно лишь задать параметры которые должна отслеживать сеть, 
    Например: адреса смарт-контрактов мостов, публичные ключи верификаторов и т.п.
    - Деплой инициируется одной из организаций, но **требует согласия валидаторов по стандартным правилам**.
    Например: добавление нового моста в другую сеть должно быть одобрено через консенсус 8 из 10.
    - Эти контракты позволяют сети **реагировать на события вне блокчейна**: поступление/сжигание USDC в мостах, внешние вызовы API (в перспективе).
    - Все оракульные контракты совместимы с базовой логикой – по сути, это конфигурации *Proto-IP* модуля, 
    поэтому их проверка валидаторами сводится к контролю параметров (на корректность адресов, ключей и т.д.).

#### 3.3 Коопреативные врап смарт-контракты (*Organization Contracts*):   
    Контракты, развёртываемые самими компаниями-кооперативами для своих нужд:
    - **Деплой ограничен:** только компании-кооперативы вправе публиковать такой контракт, и только от имени своей организации. 
    В транзакции деплоя указывается OrgId, связывающий контракт с организацией-владельцем через приватный ключ доступа.
    - **Назначение:** реализуют специфические функции приложений или сервисов внутри кооператива. 
    Например: внутренние расчёты, управление членскими взносами – всё, что требуется конкретной компании, может быть заложено в её контракт.
    - **Исполнение:** Выполняются ончейн и валидируются в соответствии с правилами консенсуса, используют библиотеки *Proto-IP*. 
    Внутренние изменения (новые версии) не нарушают внешних вызовов, т.к. интерфейс остаётся прежним – меняется только реализация.
    - ** Перед публикацией контракт проходит проверку:** 
        1. Валидация *sandbox*исполнения: валидатор-инициатор деплоя прогоняет контракт в изолированной песочнице, проверяя корректность выполнения.
        2. Прогон через *linter*-анализатор: код не должен содержать запрещённых операций, недетерминированных вызовов, превышать лимиты по CPU/памяти и т.п. 
        Протокол предоставляет стандартный linter.
    - **Процесс консенсуса при деплое:** 
        1. *Развертывание организационного контракта* инициируется как специальная транзакция предложения нового блока,
        смарт-контракт всегда деплоиться отдельным блоком, без других транзакций.
        Организация отправляет транзакцию `DeployContract(orgId, contractCodeHash, dependencies, ...)` в сетевой `scMempool`.
        Один из валидаторов (может быть сама организация или другой) формирует блок с деплоем, и рассылает проект блока остальным валидаторам.
        2. *Проверка валидаторами:* Каждый валидатор воспроизводит у себя запуск sandbox+lint для присланного кода и сверяет:
        - Соответствует ли хэш кода заявленному.
        - Корректен ли список зависимостей (Dependency Graph) используемым *Proto-IP*.
        - Нет ли попыток обмана или нарушения совместимости с *Proto-IP* (например, вмешательство в системные данные).
        3. *Голосование по контракту:* Если большинство валидаторов подтверждают корректность, блок с новым контрактом принимается в цепь. 
        Если *большинство отклоняет* (нашли ошибку/мошенничество) – блок отвергается, организация наказывается согласно правилам.
        Если кто-то из валидаторов **безосновательно отклонил** (т.е. контракт честный, а валидатор голосует “против” из злого умысла), 
        таким валидатор наказывается согласно правилам.
        4. *После принятия:* Новый контракт считается зарегистрированным. 
        Ему присваивается уникальный идентификатор и версия (обычно хэш кода). 
        Организация-владелец может вызывать его функции, а пользователи – взаимодействовать с ним через публичные методы (если предусмотрено).
    - **Обновление и версионирование:** Организация может выпустить новую версию своего контракта
    Деплой новой версии проходит тот же процесс согласования. При успехе новый код вступает в силу, 
    а старый контракт помечается как **неактивный** (его нельзя вызывать, но он остаётся в истории для аудита).
    Протокол запрещает удалять контракт целиком – прежние версии хранятся навсегда, обеспечивая проверяемость.
    - **Ответственность организации:** 
    Организация самостоятельно решает, когда обновлять/заменять свой контракт. 
    Если из-за этого какие-то сторонние пользователи пострадают (например, изменится логика сервиса) – это риск, на который они идут. 
    Протокол **не защищает** сторонних пользователей от таких изменений логики, поэтому предполагается, 
    что организационные контракты используются **только внутри самой организации** или по прямому соглашению с внешними пользователями.
    - **Консолидация шаблонов:** Чтобы избежать дублирования кода, протокол может выполнять периодический анализ всех организационных контрактов (например, раз в год).
    Если обнаружится, что несколько организаций независимо разработали *идентичный функционал* (совпадают хэши и граф зависимостей), 
    сеть может вынести этот код в **новый протокольный контракт**.
    Такой контракт будет добавлен в библиотеку, и организации смогут переиспользовать его как общий ресурс вместо развертывания своих копий.
    Это снижает избыточное хранение и гарантирует, что часто используемый код проходит тщательную проверку и утверждение на уровне протокола.

##### **Примечание**
        Все *Coop Contracts* деплоятся только кооперациями зарегистрированными в сети, и принадлежат компании которая их зарегистрировала.
        Исходя из этого все права на использование таких контрактов находятся у кооперации владельца и могут ей распространяться через предоставление приватного ключа,
        по желанию кооперации, но так же эта кооперация несет полную ответственность и обязуется соблюдать основные принципы сети.
        Сеть может только проверить такой контракт на соответствие требований своего протокола, и наказать компанию согласно правилам сети.

#### 3.4 Общие правила деплоя/обновления и контроля доступа 
    - **Только кооперативы-компании** могут инициировать развертывание любого нового контракта (*Oracle Contracts* или *Organization Contracts*) через транзакции специального типа. 
    Обычные пользователи **не имеют права** деплоить свои смарт-контракты в сеть.
    Протокольные контракты обновляются и добавляются исключительно разработчиками сети и утверждаются глобальным DAO (т.е. не через обычные транзакции).
    - **Dependency Graph:** Каждый контракт при публикации указывает зависимости – перечень *Proto-IP* контрактов (с конкретными версиями/хэшами), которые он вызывает.
    Это своего рода “граф импорта”, который фиксирует зависимости от *Proto-IP* или других смарт-контрактов. 
    Если контракт A зависит от библиотеки B@v3, то даже после выхода B@v4, контракт A **продолжит использовать версию v3**, пока организация не обновит сам контракт A.
    Такой подход гарантирует *неизменность логики* исполнения: ни валидатор, ни злоумышленник не могут незаметно подменить зависимости контракта.
    При проверке деплоя валидаторы сверяют корректность Dependency Graph – все заявленные хэши должны соответствовать актуальным смарт-контрактам. 
    Это защищает от ситуаций, когда контракт ссылается на несуществующий или злонамеренно изменённый смарт-контракт.
    - **Изолированное исполнение:** Все контракты запускаются в **детерминированной песочнице**:
    Выполнение транзакции контракта включает в себя вычисление `preBlockHash` (хэш предыдущего блока до исполнения) 
    и будущего `postBlockHash` (хэш состояния после выполнения транзакции контракта). 
    Валидаторы проверяют, что `postBlockHash` совпадает у всех – это подтверждает одинаковый результат выполнения кода на всех узлах.
    Контракты не имеют доступа к файловой системе узла, внешним сетям или системному времени (кроме разрешённых API). 
    Ограничения по памяти, процессору и времени исполнения строго соблюдаются, чтобы предотвратить атаки типа DoS.
    Каждый контракт может записывать данные только в рамках своей области (например, состояние OrgId или учетных записей кооператива) 
    или в разрешённых хранилищах (блокчейн или внешние ресурсы, явно указанные).
    - **Гарантия идентичности исполнения:** Благодаря фиксированным хэшам контрактов и их зависимостей, а также проверке `preBlockHash/postBlockHash`, система гарантирует:
    Невозможность скрытой подмены кода (атаки с заменой контракта заметны, т.к. изменится хэш – валидаторы откажут).
    Неповреждённость истории: если кто-то пытался бы “откатить” состояние или изменить историю блокчейна, 
    несоответствие `preBlockHash` мгновенно выявится при следующем исполнении контракта.
    Устойчивость к ошибкам обновления: организация не сможет случайно вызвать новую версию библиотеки, 
    несовместимую с её старым контрактом – пока не обновит контракт явным образом.
    В итоге, система работы смарт-контрактов обеспечивает **управляемое развитие функциональности**, 
    а организации могут создавать свои приложения, но под надзором сети, что защищает от взломов и сбоев, характерных для публичных open-code платформ.

### 4. Токеномика

#### 4.1 MCP Coin
    Внутренний токен **MCP Coin** служит расчетной единицей и средством оплаты комиссий внутри сети:
        - **Единственный токен:** Протокол запрещает выпуск любых других токенов или NFT. 
        Исключение сделано только для DAO-токенов голосования (soulbound), которые не имеют рыночной ценности.
        - **Эмиссия через мост:** 
            Новые MCP Coin выпускаются только при поступлении эквивалентного обеспечения во внешней сети
            В каждой целевой сети (Polygon, Base и др.) развёрнут **мост-смарт-контракт**, принимающий депозиты USDC от пользователей.
            Когда пользователь отправляет USDC на адрес моста, наш *Oracle Contracts* фиксирует это событие.
            *Oracle Contracts* создаёт в MCP-сети запрос на эмиссию соответствующего количества MCP (1 MCP : 1 USDC).
            Валидаторы включают эту эмиссионную транзакцию в блок (тип происхождения `Oracle`), и новые MCP Coin поступают на кошелёк пользователя в нашей сети.
            *Безопасность:* Кошелёк моста во внешней сети – смарт-контракт без приватного ключа (им невозможно завладеть вручную). 
            Выпуск MCP происходит только при подтверждённом депозите USDC.
        - **Обратное сжигание (редемпшн):** 
            При выводе средств обратно, так же через **мост-смарт-контракт** средства переводятся на кошелек внешней сети.
            Пользователь в нашей сети использует *Proto-IP* для вывода необходимого количества MCP Coin.
            *Oracle Contracts* отслеживает событие сжигания в блокчейне MCP и инициирует разблокировку необходимого количества USDC 
            из моста на внешний адрес пользователя (например, на Polygon).
            Таким образом, общий выпуск MCP всегда обеспечен резервом USDC, находящимся в контрактах мостов.
        - **Добровольное сжигание:** 
            Любой участник сети может в любой момент сжечь часть своих MCP Coin (без вывода USDC) – для поддержки экономики. 
            Специальный смарт-контракт **Burn** принимает MCP и уничтожает их, 
            что снижает предложение (эта мера может использоваться разработчиками/организациями для повышения курса MCP, если они считают это нужным).
        - **Ликвидность и поддержание курса:** 
            Проект поддерживает официальный пул ликвидности MCP/USDC на DEX через пул ликвидности
        - **Целевой курс:** 
            1 MCP Coin ≈ 1 USDC. Проект стремится удерживать паритет, чтобы MCP функционировал как стейблкоин.
        - **Механизм комиссий:** 
            Пока рыночный курс MCP < 1 USD, *все* собранные комиссии за транзакции автоматически сжигаются (уменьшая предложение MCP и поддерживая курс). 
            Когда MCP Coin  ≥ 1 USD, комиссии перестают сжигаться и становятся вознаграждением валидаторов.
        - **Коррекция переоценки:** Если MCP торгуется существенно выше привязки (MCP Coin  > 1.1 USDC за MCP), 
            протокол предусматривает распределение избыточной прибыли пула.
            Весь излишек USDC из пула ликвидности выделяется и **раздается поровну всем организациям**. 
            Это стимулирует продажу MCP (фиксируя прибыль) и возвращает курс к 1.0.

#### 4.2 Механика комиссий

- **Комиссии за операции:** В сети установлены фиксированные комиссии (gas) в MCP за типовые действия:
  <!-- Таблица комиссий -->
  | Операция                    | Комиссия (MCP) | Примечание                                |
  |-----------------------------|---------------:|------------------------------------------ |
  | Создание новой организации  |            10.0| Единоразовый взнос при регистрации (OrgId)|
  | Обычная транзакция          |           0.001| Добавление в пул транзакций               |
  | Приоритетная транзакция     |            0.01| С мгновенным закрытием блока              |
  | Деплой смарт-контракта      |             5.0| Единоразовый взнос при деплое             |
  | Вызов смарт-контракта       |           0.001| Выполнение функции смарт-контракта        |
  | Голосование (DAO-транзакция)|           0.001| Создание предложения или голос (on-chain) |

- **Распределение комиссий:** Все собранные комиссии поступают в специальный пул и распределяются следующим образом:
  - **90%** – Разделяется в равных долях между валидаторам, участвовавшим в создании блока.
  - **10%** – в фонд развития сети (трежери). Использование средств фонда решается через сетевое DAO (например, финансирование обновлений, маркетинга).
- Таким образом, экономическая модель сети направлена на поддержание **стабильности MCP Coin** и вознаграждает валидаторов без инфляционного выпуска новых монет.

### 5. Управление сетью (Governance)

    Сеть MCP Coop Chain управляется децентрализовано посредством двух уровней DAO:
        - **глобального (между всеми организациями сети)** 
        - **локального (внутри каждой организации)**

    #### 5.1 Сетевое DAO (голосование для изменений общих принципов сети) 
        Политика всей сети определяется голосованием всех компаний-кооперативов:
        - **Один кооператив – один голос:** Каждая организация при регистрации получает *Soulbound token*, представляющий её голос на сетевом уровне.
        - **Процесс принятия решений:** Когда на голосование выносится предложение, 
        касающееся всего блокчейна (например обновление протокола, внедрение новых функций):
            1. **Локальное обсуждение:** В каждой организации сначала проходит **внутреннее DAO-голосование** по этому вопросу. 
            То есть члены кооператива решают, как их организация должна голосовать в общем голосовании.
            2. **Формирование единого голоса:** После завершения локального голосования смарт-контрактов OrgId автоматически отправляет **единый голос** от организации 
            на сетевой уровень (например, записывает “за” или “против” в глобальный пул голосов).
            3. **Глобальное решение:** Когда все активные организации выразили своё мнение (или по истечении оговоренного периода голосования), 
            подсчитываются голоса валидаторов:
                - Для утверждения решения требуется согласие всех проголосовавших участников.
                - Период голосования имеет строгие временные рамки (обновление протокола сети 30д, обновление параметров Оракулов 24ч).
                - Так же есть минимальный порог голосования = 2/3 всех зарегистрированных компаний-кооперативов
                - Если пороги достигнуты – предложение считается принятым и исполняется (например, происходит изменение параметров сети).
                - Если нет – предложение отклоняется, с возможностью повторения голосования не раньше чем через 30 дней.
        - **Децентрализация и доверие:** Ни одна организация не может проголосовать напрямую, минуя своих членов – это гарантирует, 
        что на глобальном уровне голос **каждой организации отражает волю её участников**. 
        Такой подход предотвращает ситуацию, когда решение продиктовано узким кругом лиц.
        - **Безопасность голосования:** Все валидаторские DAO-токены также soulbound и уникальны, их нельзя передать или скопировать. 
        История решений хранится в блокчейне, что обеспечивает прозрачность. 
        Голосование реализовано через нулевое знание (ZK), чтобы скрыть, как голосовала та или иная организация, сохраняя проверяемость итогов.
        - **Изменение правил:** сам процесс голосования будет зашит в протокол, это лишает систему гибкости, 
        но гарантирует процесс кооперативного и равноправного принятия решений.

    #### 5.2 Внутреннее DAO (голосование внутри компаний-кооперативов)
        Каждая кооперативная организация использует смарт-контракт DAO для коллективного управления:
        - **Принцип "один человек – один голос":** При вступлении сотрудника в кооператив ему так же выдается непередаваемый **soulbound-токен** голосования. 
        Этот токен подтверждает право голоса и закреплен за кошельком участника навсегда (до выхода из организации).
        - **Единогласное принятие решений:** Любые ключевые решения внутри компании требуют 100% голосов “за”. 
        Все сотрудники равны в правах, включая основателей.
        - **Прозрачность и анонимность:** Каждое голосование фиксируется в блокчейне (смарт-контракт DAO сохраняет факт голосования), 
        однако выбор конкретного сотрудника (за/против) остается анонимным для внешних наблюдателей.
        - **Механика голосования:**  
            1. **Инициация предложения:** Любой участник организации может вынести вопрос на голосование, создав соответствующую транзакцию предложения.
            2. **Голосование:** Все участники отправляют свои DAO-токены (или подписи) в смарт-контракт голосования, отмечая свой выбор.
            3. **Завершение:** Голосование завершается, когда-либо проголосовали 100% участников, либо истек установленный лимит времени (24 часа).
            4. **Подведение итогов:** Смарт-контракт автоматически подсчитывает голоса и фиксирует результат в блокчейне. DAO-токены возвращаются владельцам.
            5. **Реализация:** В зависимости от результата выполняется действие – например, добавление нового участника, 
            изменение оклада, заключение партнёрского соглашения и т.п. (предусмотрено смарт-контрактом OrgId).
        - **Изменение состава участников:** Принятие нового сотрудника(единогласно всеми текущими участниками) или 
        Исключение существующего(единогласно всеми текущими участниками кроме исключаемого) требуют отдельного голосования. 
        При увольнении сотрудника его DAO-токен автоматически сжигается, при приёме нового – выпускается новый soulbound-токен.
        - **Гибкость DAO:**
        Протокол не поддерживает расширение функционала DAO компаний-кооперативов, но
        Базовая модель может быть модифицирована по решению сообщества.

##### **Примечание**
    Компании так же могут выстраивать внутренние процессы через параметризирование *Proto-IP* и *Organization Contracts*, 
    не нарушая основных принципов кооперации, например: распределять роли, оплату труда, интегрировать казначейство (treasury) для управления финансами.

### 6. Формирование блоков и структура данных
    Каждый блок в MCP-сети создаётся либо по таймеру, либо в ответ на активность, с соблюдением правил, предотвращающих перегрузку сети.

    #### 6.1 Условия создания блока 
        Блок добавляется в цепочку, когда выполнено **одно из условий**:
            1. **Истечение времени:** прошёл установленный интервал времени с предыдущего блока. 
            По умолчанию новый блок формируется каждые N минут (например, каждые 10 минут), если раньше не наступило другое условие.
            2. **Наполнение транзакциями:** если в пуле транзакций `txMempool` накопилось 100 или более пользовательских транзакций, 
            валидаторы немедленно формируют блок, не дожидаясь таймера (чтобы не задерживать обработку).
            3. **Системная транзакция смарт-контрактов:** 
                - Если в специальном пуле `scMempool` появляется *смарт-контракт транзакция*, то текущий открытый блок завершается досрочно. 
                - Все накопленные на данный момент пользовательские транзакции фиксируются в этом блоке (даже если их было менее 100). 
                - После чего транзакция смарт-контракта оформляется отдельным блоком, который следует сразу за текущим. 
                - *Назначение:* отдельные блоки для смарт-контрактов гарантируют, 
                что критичные изменения (например, результаты голосования DAO, смена протокольных параметров) применяются без задержки и не смешиваются с обычными транзакциями.
                - смарт-контракт транзакции обрабатываются серийно, каждая в отдельном блоке, помеченном специальным тегом (см. `blockTag` ниже).

    ### 6.2 Mempool и защита от спама 
        Сеть использует два параллельных пула транзакций:
        - `txMempool` – пул обычных пользовательских транзакций (переводы, вызовы контрактов, голоса DAO и пр.).
        - `scMempool` – пул транзакций деплоя смарт-контрактов *Oracle Contracts*/*Organization Contracts*.
        - **Ограничение частоты контрактов:** 
        Чтобы злоумышленник не мог создать тысячи смарт-контрактов и перегрузить сеть, введены ограничения.
        Деплой из `scMempool` может включаться **не чаще 1 раза в 10 блоков** или **не чаще, чем раз в 10 минут** – что наступит раньше. 
        То есть между двумя блоками, содержащими смарт-контракты, всегда будет хотя бы 9 обычных блоков или ~10 минут времени.
        - После включения смарт-контракта в блок он удаляется из `scMempool`. 
        Если поступит слишком много контрактов разом, они будут ставиться в очередь.
        - `scMempool` имеет ограничение размера, максимум 100 активных заявок на деплой. 
        При достижении лимита новые попытки загрузить контракт немедленно отклоняются API с ошибкой **“Mempool full – try again later.”**
        - Эти меры защищают сеть от спама смарт-контрактами.
        - **Приоритет транзакций:** Обычные транзакции обрабатываются по принципу очереди (можно ускорить, оплатив приоритетную комиссию). 
        Смарт-контракты обрабатываются согласно правилам выше, вне очереди пользователей.

    #### 6.3 Структура блока 
        Каждый блок содержит следующие основные части:
        - **Заголовок блока:**
            - `blockId` – уникальный идентификатор блока который является хэшем данных текущего блока.
            - `blockHeight` – номер (высота) блока в цепи.
            - `timestamp` – отметка времени UNIX, когда блок сформирован.
            - `previousBlockHash` – хэш предыдущего блока (связь цепочки).
            - `postBlockHash` – хэш состояния сети после применения всех транзакций блока (мерклизация нового состояния).
            - `blockTag` (опционально) – дополнительный тег или пометка блока (например: `Oracle`, `DeployContract` и тд).
        - **Информация о валидаторах:**
            - `proposer` – идентификатор/публичный ключ валидатора, предложившего (сформировавшего) данный блок.
            - `validators` – список {публичный ключ, подпись} всех валидаторов, проголосовавших за блок. 
            Этот список 0-10 записей, включающих цифровые подписи подтверждения.
        - **Список транзакций:**
            - `txs` – массив транзакций, входящих в блок, каждая с полями:
                1. `txId` – хэш содержимого транзакции (для целостности).
                2. `origin` – источник транзакции: может быть `User` (пользовательская), `Oracle` (внешнее событие), 
                `System` (например, автоматическая техническая транзакция), `DAO` (результат голосования).
                3. `payload` – полезная нагрузка (данные транзакции, например, суммы, адреса, вызовы контрактов).
                4. `smartContractHashes` – список хэшей смарт-контрактов, которые были задействованы при выполнении этой транзакции 
                (например, если транзакция вызывает функции нескольких контрактов).
                5. `fee` – уплаченная комиссия MCP за выполнение транзакции.
                6. `reason` (опционально) – строка с пояснением или меткой транзакции 
                (например, “создание организации”, “обновление оклада”, “мостовая эмиссия” – для удобства отслеживания).

##### **Примечание**
    При необходимости можно дополнять структуру блока другими полями, но выше перечислены основные, достаточные для функционирования цепочки.
    Структура блоков и транзакций спроектирована таким образом, чтобы облегчить верификацию (благодаря хешированию всего – блоки и транзакции легко проверяются по хэшу). 
    Аудирование истории (наличие полей `origin` и `reason` повышает читаемость цепочки для людей и анализаторов).

### 7. Внутренняя структура и экономика кооперативной организации
    Каждая организация на платформе MCP Coop Chain не просто является кооперативом или валидатором, 
    но и самостоятельной экономической единицей со своими правилами управления и распределением доходов. 
    Эти правила закреплены в *Proto-IP* контракте для создания организации, при создании организации они конфигурируются параметрами 
    и подкреплены обязательствами участников через DAO.

    #### 7.1 Создание кооперативной организации 
        **Условия вступления в сеть:** 
            - Новая организация должна внести фиксированный стейк 1000 MCP Coins и оплатить комиссию 10 MCP Coins.
            - Каждая организация при желании может подключить к сети **FullNode, но только один, мультиаккаунтинг исключён.
            - Стейк блокируется на всём сроке существования организации (мин. 31 день), 
            возвращается в полном обьеме при выходе из сети и отключении узла, если не было штрафов или заморозки.
        **При создании организация указывает параметры**:
                1. Name, 
                2. Business Domain, 
                3. Description (описание организации)
                4. Founder – адрес кошелька основателя (должен иметь минимум 1010 MCP) для стейкинга и комиссии.
        **После успешной регистрации автоматически создаются**:
                1. Внутренний DAO организации (1 человек = 1 голос, все решения требуют консенсуса).
                2. Cмарт-контракт организации с ее данными и параметрами для исполнения *Proto-IP* контрактов.
                3. Массив участников({ кошелек, позиция}), изначально один основатель, получивший soulbound DAO-токен.
                4. Корпоративный кошелёк (для средств организации).

    #### 7.2 Экономическая модель компании-кооператива 
        - **Общий корпоративный кошелек:** У каждой организации есть shared-кошелек, куда поступают все доходы, 
        полученные кооперативом (выручка от деятельности, инвестиций, может быть доля комиссий сети, если она FullNode).
        - **Распределение выручки:** 
            На основании смарт-контракта автоматизировано(параметрами) распределение поступившей на кошелек суммы по трем направлениям:
            1. **Пул зарплат** – минимум 51% от всей выручки за установленный период. 
                Предназначенные для оплаты труда всех сотрудников компании. 
            2. **Пул развития/Резервный фонд** – минимум 10% от всей выручки за установленный период, так же туда попадают средства от инвесторов. 
                Эти средства резервируются на развитие компании (R&D, маркетинг, непредвиденные расходы). 
                Расходование средств из пула развития контролируется через внутреннее DAO (голосованием утверждаются траты).
            3. **Пул инвесторов** – опционально, максимум **30%** от выручки. 
                Этот пул активируется, только если у кооператива есть внешние инвесторы, 
                и процентные доли для инвесторов устанавливается сотрудниками(через *Proto-IP* и DAO, для привлечения инвестиций). 
                Инвесторы автоматически получают выплаты из этого пула пропорционально вложениям, 
                **через специальный смарт-контракт** который гарантирует прозрачность и своевременность. 
                При отсутствии инвесторов данный пул равен 0%.
        - **Распределение зарплат:** 
            После распределения по пулам, из **Пула зарплат** на основе параметров высчитывается справедливая оплата труда.
            Заработная плата каждого сотрудника рассчитывается по формуле `Зарплата = Часы/стори-поинты × Ставка_разряда × Коэффициент_условий`, 
            и выплачивается через смарт-контракт минимум раз в 30 дней или при вызове функции оплаты.
                1. **Часы*/стори-поинты** устанавливаются и высчитываются сотрудниками компании(например: `Toggl Track`,`Clockify`).
                2. **Ставка разряда** устанавливается при приеме на определенную позицию(например: проект-менеджер, синьор разработчик, стажер) в компании, 
                может быть изменена через DAO на основе принципов и правил сети.
                3. **Коэффициент условий**(опционально) -  если труд тяжёлый, вредный, стрессовый(например: овертайм, работа в выходной)
            Таким образом, в кооперативе устанавливается **честная система оплаты труда** гарантированная сетевым протоколом на основе смарт-контрактов. 
            Повышение зарплат напрямую зависит от увелечения выручки, которая достигается за счет повышения квалификации и производительности компании.            
        - **Выплаты инвесторам:** 
            Инвесторы, если они есть, получают только пассивный финансовый доход.
            Им не выдаются DAO-токены, они не участвуют в голосованиях и управлении.
            Данный подход исключает влияние инвесторов на политику компании, сохраняя полный контроль над трудовым коллективом.
            Их процент доли  **Пула инвесторов** фиксируется смарт-контрактом при инвестировании, и **не может быть изменен**.
            Выплаты происходят автоматически при каждом распределении выручки (смарт-контракт перечисляет средства из пула инвесторов на адреса инвесторов согласно их долям). 
            Такой механизм является абсолютным гарантом инвестиций и должен положительно сказаться на желании инвестировать.

 ##### **Примечание**           
    Эта экономическая модель встроена в логику блокчейна, отражая **принципы кооперации**, через приоритет развития и труда над капиталом. 
    Все транзакции распределения (начисления в пулы, выплаты) прозрачны и проверяемы в сети, что создает доверие между членами кооператива и инвесторами.

    #### 7.3 Политика управления и трудовые отношения 
        - **Должности и оклады:** 
            В организации устанавливаются должности, и каждой должности назначается **Ставка разряда**. 
            **Ставка разряда** привязана к позиции, а не к конкретному сотруднику.
            Если сотрудник покидает компанию, его преемник на той же должности получает ту же ставку (если не принято новое решение DAO).
            Изменить **Ставку разряда** любой позиции можно только через **единогласное решение сотрудников**(DAO).
        - **Принятие решений:** 
            Все важные решения в компании:
                создание новых позиций, 
                изменение ставки разряда, 
                привлечение инвестиций, 
                запуск новых проектов и т.д.,
            требуют **100% голосов** всех текущих сотрудников “за” (см. внутреннее DAO выше). 
            Это гарантирует, что ни одна группа внутри кооператива не сможет навязать решение без согласия остальных.
        - **Изменение состава организации:**
            Прием новых сотрудников осуществляется только с полного согласия всех сотрудников коллектива
            Увольнение сотрудника осуществляется только с полного согласия всех сотрудников коллектива за исключением этого сотрудника
            При одном из этих действий отрабатывает протокольный смарт-контракт, который распределяет всю текущую выручку в пулы 
            и распределяет зарплаты из пула зарплат(см. экономическую модель выше).
            Это обеспечивает честное распределение выручки за проделанную каждым сотрудником или стажером работу.
        - **Испытательный срок (стажировка):** 
            Новые сотрудники могут приниматься сначала как стажеры.
            Длительность испытательного срока определяется внутренним решением (от 1 до 6 месяцев).
            На этот период стажёр получает **50% ставки разряда**, 
            а остальная половина его предполагаемой зарплаты временно направляется в пул развития компании (см. экономическую модель выше). 
            После успешного прохождения испытательного срока (по решению DAO) сотрудник начинает получать полный оклад, и его вклад в пул развития прекращается.
            Увольнение стажера может быть осуществлено решением его руководителя (менеджера/ментора) без DAO-голосования – так предусмотрено для гибкости. 
            Однако полноценного сотрудника уволить можно только единогласным решением всех остальных (так как это изменение состава организации).
        - **Равенство и защита от злоупотреблений:** 
            Ни основатель, ни какой-либо менеджер не могут единолично принимать решения. 
            Правило “1 человек = 1 голос” означает, что даже основатель компании не обладает особой долей или **вето** – его голос равен голосу любого сотрудника. 
            Это устраняет почву для внутреннего авторитаризма и сговоров.
        - **Принцип абсолютной кооперации:** 
            В сумме, модель организации можно описать формулой **кооперация = 100% участие = 100% контроль**.  
            Только при полном участии всех членов достигается легитимность решений. 
            Этот принцип:
                1. Исключает кулуарные сговоры и разделение компании на фракции.
                2. Защищает от корпоративного рейдерства (никто извне не получит контроль, только в равной доле среди сотрудников компании).
                3. Возлагает равную ответственность на всех – успех и неудачи компании становятся делом каждого члена, а не только руководства.

### -------- TBD --------------

### 8. Безопасность сети

### 9. Инструменты и экосистема

### 11. Заключение
    MCP Coop Chain – это больше, чем очередной блокчейн. Это попытка объединить технологию распределенного реестра с **кооперативной идеологией** в экономике. 
    Мы создаем инфраструктуру, где каждая организация является равноправным участником сети не только технически, но и социально:
        - Децентрализация здесь означает, что власть и ответственность равномерно распределены между кооперативами, 
        а не сосредоточены у майнинговых пулов или крупных держателей токенов.
        - Экономическая модель устраняет спекулятивную природу, потому что MCP Coin стабилен и служит только для удобства расчетов, 
        а не для наживы, валидаторы получают вознаграждение по справедливости, а не за счёт инфляции.
        - Смарт-контрактная платформа защищена от произвольных вредоносных программ, сохраняя при этом достаточную гибкость для развития кооперативных dApp’ов.
        - Каждая кооперация сети – это мини-модель прямой демократии и равноправия, и эти мини-модели объединяются в глобальную сеть, решения в которой тоже принимаются сообща.

    Мы верим, что такой симбиоз технологии и кооперации позволит построить **устойчивую цифровую экономику**, 
    где ценности прозрачности, доверия и справедливого распределения благ реализованы на самом базовом, протокольном уровне.

### -------- TBD --------------

### 12. Приложения

#### 12.1 Технические спецификации

#### 12.2 Форматы данных и API

#### 12.3 Примеры кода


### 10. Дорожная карта